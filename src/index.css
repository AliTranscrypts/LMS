@import "tailwindcss";
@import "plyr/dist/plyr.css";

@theme {
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;

  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;

  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;

  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
}

@layer base {
  html {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  body {
    @apply bg-gray-50 text-gray-900;
  }
}

@layer components {
  /* Loading skeleton animation */
  .skeleton-loading {
    @apply animate-pulse bg-gray-200 rounded;
  }

  /* Fade in animation for content */
  .fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Slide up animation for notifications */
  .slide-up {
    animation: slideUp 0.3s ease-out;
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .btn {
    @apply px-4 py-2 rounded-md font-semibold text-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }
  
  .btn-secondary {
    @apply bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400;
  }
  
  .btn-success {
    @apply bg-success-600 text-white hover:bg-success-700 focus:ring-success-500;
  }
  
  .btn-danger {
    @apply bg-error-500 text-white hover:bg-error-600 focus:ring-error-500;
  }
  
  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }
  
  .input {
    @apply w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500;
  }
  
  .label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }
  
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
  }
  
  .page-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8;
  }

  /* Offline indicator positioning */
  .offline-indicator {
    @apply fixed bottom-4 left-4 z-50;
  }

  /* Loading state overlay */
  .loading-overlay {
    @apply absolute inset-0 bg-white/75 flex items-center justify-center z-10;
  }

  /* Smooth image loading */
  .img-loading {
    @apply bg-gray-100 transition-opacity duration-300;
  }

  .img-loaded {
    @apply opacity-100;
  }
}

/* ============================================
   Plyr Video Player - Override Tailwind Preflight
   Tailwind's Preflight resets button styles which
   breaks Plyr's play button and controls
   ============================================ */
@layer components {
  /* Large center play button - only show when paused */
  .plyr__control--overlaid {
    background: var(--plyr-video-control-background-hover, var(--plyr-color-main, #00b2ff)) !important;
    border: none !important;
    border-radius: 100% !important;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.15) !important;
    color: var(--plyr-video-control-color, #fff) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: calc(var(--plyr-control-spacing, 10px) * 1.5) !important;
    z-index: 2 !important;
    /* Allow Plyr to control visibility - don't force opacity/visibility */
    transition: opacity 0.2s ease, visibility 0.2s ease;
  }

  /* Hide play button when video is playing */
  .plyr--playing .plyr__control--overlaid {
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }

  /* Show play button when paused or stopped */
  .plyr--paused .plyr__control--overlaid,
  .plyr--stopped .plyr__control--overlaid {
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
  }

  .plyr__control--overlaid svg {
    fill: currentColor !important;
    height: var(--plyr-control-icon-size, 18px) !important;
    width: var(--plyr-control-icon-size, 18px) !important;
    left: 2px;
    position: relative;
  }

  .plyr__control--overlaid:hover {
    background: var(--plyr-video-control-background-hover, var(--plyr-color-main, #00b2ff)) !important;
  }

  /* Control bar buttons */
  .plyr__controls button.plyr__control {
    background: transparent !important;
    border: none !important;
    color: var(--plyr-video-control-color, #fff) !important;
    padding: calc(var(--plyr-control-spacing, 10px) * 0.7) !important;
    cursor: pointer !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .plyr__controls button.plyr__control svg {
    fill: currentColor !important;
    height: var(--plyr-control-icon-size, 18px) !important;
    width: var(--plyr-control-icon-size, 18px) !important;
  }

  .plyr__controls button.plyr__control:hover {
    background: var(--plyr-video-control-background-hover, rgba(255, 255, 255, 0.1)) !important;
    border-radius: 3px !important;
  }

  /* Ensure Plyr container displays correctly */
  .plyr {
    position: relative !important;
  }

  .plyr--video {
    background: var(--plyr-video-background, #000) !important;
  }

  /* Progress bar and volume slider */
  .plyr__progress input[type="range"],
  .plyr__volume input[type="range"] {
    appearance: none !important;
    -webkit-appearance: none !important;
    background: transparent !important;
    border: none !important;
    color: var(--plyr-color-main, #00b2ff) !important;
  }
}
